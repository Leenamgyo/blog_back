---
layout: post
title:  "[DesignPattern] Factory Pattern"
date:   2022-10-21 13:00:00 +0900
categories: designPattern
---

## What is Factory Pattern 
팩토리 패턴(factory Pattern)은 자주 쓰이는 패턴을 엮어서 집필한 GoF의 '생성 패턴' 중 하나입니다. 이 패턴은 객체를 생성하는 로직을 서브 클래스에 맡기면서 클래스 생성을 추상화시키고 프로그램 실행 중 다양한 클래스를 생성시킬 수 있습니다. 즉, 팩토리 패턴을 사용한다면 유사한 속성을 가진 다양한 객체의 생성을 컨트롤 할 수 있게 되면서 특정한 클래스와 직접적으로 결합하지 않으면서 느슨한 결합(loosed Coupling)을 만들 수 있습니다. 팩토리 패턴은 잘 알려진 2가지의 방법이 있는데 이는 메소드를 이용한 '팩토리 메소드 패턴'과 추상 클래스를 이용한 '추상 팩토리 패턴'입니다. 

# Example 1: let's make the Factory Pattern simply
일종의 워밍업으로 간단하게 팩토리를 한번 만들어 봅시다. 이번 팩토리는 패턴으로는 속하지 않고 간단한 관용구 정도로 이해하면 될 것 같습니다. 이 팩토리 패턴은 간단하게 팩토리 클래스를 만들어 그 안에 알맞은 것을 생성시키는 방법입니다. 


# 확장을 시켜보자, 이제는 여러 지점의 Pizza Store와 Style을 반영하자 
기존의 예제를 활용해서 SimplePizzaFactory를 삭제하고, 3가지 서로 다른 팩토리(NYPizzaFactory, ChicagoPizzaFactory, CalifoniaPizzaFactory)를 만든 다음 PizzaStore에서 적당한 팩토리를 사용하도록 하는 방법입니다.  


# 팩토리 메소드 패턴
객체를 생성할 때 필요한 인터페이스를 만듭니다. 어떤 클래스의 인스턴스를 만들지는 서브클래스에서 결정합니다. 팩토리 메소드 패턴을 사용하면 클래스 인스턴스 맡기는 일을 서브클래스에게 맡기게 됩니다.

# 의존성 뒤집기 원칙(Dependency Inversion Principle) 
"추상화된 것에 의존하게 만들고 구상 클래스에 의존하지 않게 만든다" 고수준 구성 요소가 저수준 구성 요소에 의존하면 안되며, 항상 추상화에 의존하게 만들어야 한다. 구상 클래스처럼 구체적인 것이 아닌 추상클래스나 인터페이스와 같이 추상적인 것에 의존하는 코드를 만들어야 합니다. 

지금까지 만든 예제를 확인해보면, PizzaStore의 가장 큰 문제점은 PizzaStore가 모든 피자에 의존한다는 점입니다. orderPizza() 메소드에서 구상 형식의 인스턴스를 직접 만들기 때문이죠. 


# 추상 팩토리 패턴의 정의
추상 팩토리 패턴은(Abstract Factory Pattern)은 구상 클래스에 의존하지 않고도 서로 연관되거나 의존적인 객체로 이루어진 제품군을 생산하는 인터페이스를 제공합니다. 구상 클래스는 서브클래스에서 만듭니다. 

# 팩토리 메소드 vs 추상 팩토리 패턴의 차이점은 무엇인가?
둘 다 객체를 생성하는 것은 동일하나 팩토리 메소드는 서브 클래스로 생성을 하고 추상 클래스는 합성으로 객체 생성을 한다. 